
# CPU缓存一致性


# 进程与线程管理

## 死锁

* 死锁的四个必要条件：
	* 互斥条件：资源只能被一个线程占用
	* 请求并保持条件：
	* 不剥夺条件：
	* 循环等待条件：
* 预防死锁：至少破坏死锁发生的一个条件。
	* 互斥条件：一般不可行，加锁就是为了互斥；
	* 请求并保持：线程在开始执行前一次性申请完全部所需资源，这种情况下会造成资源的严重浪费，因为线程声明周期可能很长，但对某个资源可能一直占有，而不使用，也不释放；
	* 不剥夺：占用资源的线程若申请不到别的资源可以主动释放已有资源。
	* 循环等待：按照某一顺序申请资源，释放资源则反序释放。
* 避免死锁：银行家算法
	* 借助于算法（比如银行家算法）对资源分配进行计算评估，使其进入安全状态。
		**安全状态** 指的是系统能够按照某种线程推进顺序（P1、P2、P3……Pn）来为每个线程分配所需资源，直到满足每个线程对资源的最大需求，使每个线程都可顺利完成。称 `<P1、P2、P3.....Pn>` 序列为安全序列。
* 排查：
	* 使用top命令，按H进入查看。
	* jps查看Java进程，jstack跟踪堆栈信息。

